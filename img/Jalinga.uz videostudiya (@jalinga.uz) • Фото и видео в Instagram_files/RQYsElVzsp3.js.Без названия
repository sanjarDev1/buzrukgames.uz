;/*FB_PKG_DELIM*/

__d("PolarisAudioProgressBar.react",["cx","PolarisIGCoreBox","PolarisIGCoreText","PolarisTimeConverter","react","usePolarisEventListener"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useRef,l=b.useState;function a(a){var b=a.audio,e=a.isDisabled,f=a.onAudioEnded,g=k(null),h=k(!1),m=k(0);a=l("0:00");var n=a[0],o=a[1];a=l("0%");var p=a[0],q=a[1],r=function(a){if(a.type==="mousedown"||a.type==="mousemove"||a.type==="mouseup")return a.clientX;else if(a.type==="touchstart"||a.type==="touchmove")return a.touches[0].clientX;return 0},s=j(function(a){if(b==null)return;var c=d("PolarisTimeConverter").convertMillisecondsToMinutesAndSeconds(a*1e3);o(c);q((a/b.duration*100).toFixed(2)+"%")},[b]),t=function(a){if(b==null)return 0;var c=g.current;if(!c)return 0;c=c.getBoundingClientRect();var d=c.width;a=r(a)-c.left;a<0?a=0:a>d&&(a=d);return a/d*b.duration};a=function(a){if(b==null)return;a.stopPropagation();h.current=!0;var c=t(a);s(c);m.current=c;a.type==="mousedown"?(window.addEventListener("mousemove",u),window.addEventListener("mouseup",v)):a.type==="touchstart"&&(window.addEventListener("touchmove",u,{passive:!1}),window.addEventListener("touchend",v))};var u=function(a){if(b==null)return;a.cancelable&&a.preventDefault();a.stopPropagation();if(h.current===!0){a=t(a);s(a);m.current=a}},v=function a(c){if(b==null)return;h.current=!1;b.currentTime=m.current;c.type==="mouseup"?(window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",a)):c.type==="touchend"&&(window.removeEventListener("touchmove",u),window.removeEventListener("touchend",a))},w=function(a){b&&h.current===!1&&s(b.currentTime)},x=function(){b&&h.current===!1&&(f(),b.currentTime=0)};c("usePolarisEventListener")(b,"timeupdate",w);c("usePolarisEventListener")(b,"ended",x);return i.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",flex:"grow",children:[i.jsx(c("PolarisIGCoreBox"),{flex:"grow",paddingX:5,children:i.jsxs("div",{className:"_aa9u"+(e?" _aa9v":""),onMouseDown:e?void 0:a,onTouchStart:e?void 0:a,ref:g,role:"progressbar",tabIndex:0,children:[i.jsx("div",{className:"_aa9w",style:{width:p}}),i.jsx("div",{className:"_aa9x"+(e?" _aa9y":""),style:{left:p}})]})}),i.jsx(c("PolarisIGCoreBox"),{width:36,children:i.jsx(c("PolarisIGCoreText"),{color:e?"ig-secondary-text":"ig-primary-text",size:"footnote",textAlign:"left",children:n})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisAudioPlayer.react",["PolarisAudioProgressBar.react","PolarisClipsActions","PolarisGenericStrings","PolarisIGCoreBox","PolarisIGCorePlayPanoFilledIcon","PolarisIGCoreSVGIconButton","PolarisIGCoreWebPauseFilledIcon","PolarisReactRedux","PolarisclipsSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=a.isDisabled;a=a.src;var e=j(null),f=k(!1);f[0];var g=f[1],l=d("PolarisReactRedux").useDispatch(),m=d("PolarisReactRedux").useSelector(function(a){return d("PolarisclipsSelectors").getIsAudioPlayerPlaying(a)});i(function(){var a=e.current;a&&!a.paused&&m===!1&&a.pause()},[m]);f=b?"ig-secondary-text":"ig-primary-text";var n=function(a){a.stopPropagation();a=e.current;a&&(a.paused&&a.src?(a.play(),l(d("PolarisClipsActions").updateAudioPageAudioPlayerIsPlaying(!0))):a.paused||(a.pause(),l(d("PolarisClipsActions").updateAudioPageAudioPlayerIsPlaying(!1))))};i(function(){g(e.current!=null)},[e]);return h.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",flex:"grow",children:[h.jsx("audio",{autoPlay:!1,controls:!1,ref:e,src:a}),h.jsx(c("PolarisIGCoreSVGIconButton"),{isDisabled:b,onClick:b?function(){}:n,padding:0,children:m?h.jsx(c("PolarisIGCoreWebPauseFilledIcon"),{alt:d("PolarisGenericStrings").ASSISTIVE_TEXT_PAUSE_BUTTON,color:f,size:12}):h.jsx(c("PolarisIGCorePlayPanoFilledIcon"),{alt:d("PolarisGenericStrings").ASSISTIVE_TEXT_PLAY_BUTTON,color:f,size:12})}),h.jsx(c("PolarisAudioProgressBar.react"),{audio:e.current,isDisabled:b,onAudioEnded:function(){l(d("PolarisClipsActions").updateAudioPageAudioPlayerIsPlaying(!1))}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsPageInfoLayout.react",["PolarisIGCoreBox","PolarisIGCoreText","PolarisReactRedux","PolarisUnknownTextString","PolarisUserLink.react","PolarisclipsSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.itemArtistUsername,e=a.itemArtistDisplayName,f=a.itemName,g=a.formattedMediaCount,i=a.children;a=a.itemImage;var j=d("PolarisReactRedux").useSelector(function(a){return d("PolarisclipsSelectors").getIsNarrowScreen(a)});return h.jsxs(c("PolarisIGCoreBox"),{direction:"column",marginBottom:j?0:8,padding:j?4:0,width:"100%",children:[h.jsxs(c("PolarisIGCoreBox"),{direction:"row",children:[a,h.jsxs(c("PolarisIGCoreBox"),{alignItems:"start",direction:"column",marginStart:j?4:9,marginTop:1,children:[h.jsx(c("PolarisIGCoreBox"),{alignItems:"center",children:h.jsx(c("PolarisIGCoreText"),{size:j?"label":"title",weight:j?"semibold":"normal",children:f})}),h.jsx(c("PolarisIGCoreBox"),{marginTop:j?4:6,children:h.jsx(c("PolarisIGCoreText"),{size:j?"body":"label",weight:"semibold",children:b!=null?h.jsx(c("PolarisUserLink.react"),{color:"ig-primary-text",username:b}):(a=e)!=null?a:d("PolarisUnknownTextString").UNKNOWN_TEXT})}),h.jsx(c("PolarisIGCoreBox"),{marginTop:5,children:h.jsx(c("PolarisIGCoreText"),{size:j?"footnote":"label",weight:"light",children:g})}),!j&&h.jsx(c("PolarisIGCoreBox"),{maxWidth:"100%",minWidth:"50%",width:360,children:i})]})]}),j&&h.jsx(c("PolarisIGCoreBox"),{width:"100%",children:i})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsPagePhoto.react",["fbt","PolarisPhoto.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={image:{alignItems:"x1qjc9v5",borderTop:"x6umtig",borderEnd:"x1b1mbwd",borderBottom:"xaqea5y",borderStart:"xav7gou",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",fontSize:"xk390pu",height:"x18dl8mb",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",verticalAlign:"x11njtxf",width:"xrostsh","@media (max-width: 735px)_height":"x1rrdvvk","@media (max-width: 735px)_width":"x1tgtcet",$$css:!0}};function a(a){var b=a.itemThumbnail;a=a.xstyle;return i.jsx("div",{className:c("stylex")(j.image,a),children:i.jsx(c("PolarisPhoto.react"),{accessibilityCaption:h._("\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u0430"),setCrossOriginToUndefinedDONOTUSE:!0,src:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsAudioPageInfo.react",["fbt","PolarisAudioPlayer.react","PolarisClipsPageInfoLayout.react","PolarisClipsPagePhoto.react","PolarisIGCoreBox","PolarisIGCoreButton","PolarisReactRedux","PolarisclipsSelectors","Run","qex","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useState,l={audioImage:{borderTopStartRadius:"xyi19xy",borderTopEndRadius:"x1ccrb07",borderBottomEndRadius:"xtf3nb5",borderBottomStartRadius:"x1pc53ja",$$css:!0}};function a(a){var b,e,f=a.audioID,g=a.formattedMediaCount,m=a.metadata,n=a.isBookmarked,o=a.bookmarkAudio,p=a.unbookmarkAudio;a=(m==null?void 0:(a=m.music_info)==null?void 0:(a=a.music_asset_info)==null?void 0:a.cover_artwork_uri)||(m==null?void 0:(a=m.original_sound_info)==null?void 0:(a=a.ig_artist)==null?void 0:a.profile_pic_url);b=(m==null?void 0:(b=m.music_info)==null?void 0:(b=b.music_consumption_info)==null?void 0:(b=b.ig_artist)==null?void 0:b.username)||(m==null?void 0:(b=m.original_sound_info)==null?void 0:(b=b.ig_artist)==null?void 0:b.username);m=(m==null?void 0:(e=m.music_info)==null?void 0:(e=e.music_asset_info)==null?void 0:e.web_30s_preview_download_url)||(m==null?void 0:(e=m.music_info)==null?void 0:(e=e.music_asset_info)==null?void 0:e.progressive_download_url)||(m==null?void 0:(e=m.original_sound_info)==null?void 0:e.progressive_download_url);e=k(n);n=e[0];var q=e[1];e=k(null);var r=e[0],s=e[1];e=k(null);var t=e[0],u=e[1];e=d("PolarisReactRedux").useSelector(d("PolarisclipsSelectors").getSongName(f));var v=d("PolarisReactRedux").useSelector(d("PolarisclipsSelectors").getSongArtistDisplayName(f)),w=d("PolarisReactRedux").useSelector(function(a){return d("PolarisclipsSelectors").getBookmarkInfo(a,f)}),x=w.bookmarkError,y=w.isUpdatingBookmark;w=w.isBookmarked;j(function(){if(t!=null&&t!==r&&!y){var a=t==="bookmark"?o:p;a();s(t);u(null)}},[r,t,y,o,p]);j(function(){var a=d("Run").onBeforeUnload(function(){if(t!=null&&t!==r){var a=t==="bookmark"?o:p;a()}},!1);return function(){return a.remove()}},[t,r,o,p]);x&&w!==n&&q(w);if(a==null||e==null||b==null&&v==null)return null;x=i.jsx(c("PolarisAudioPlayer.react"),{isDisabled:m==null,src:m});w=n?i.jsx(c("PolarisIGCoreButton"),{color:"ig-secondary-button",onClick:function(){u("unbookmark"),q(!1)},children:h._("\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e")}):i.jsx(c("PolarisIGCoreButton"),{color:"ig-secondary-button",onClick:function(){u("bookmark"),q(!0)},children:h._("\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0430\u0443\u0434\u0438\u043e\u0434\u043e\u0440\u043e\u0436\u043a\u0443")});m=i.jsx(c("PolarisClipsPagePhoto.react"),{itemThumbnail:a,xstyle:l.audioImage});n=i.jsxs(c("PolarisIGCoreBox"),{children:[c("qex")._("428")&&i.jsx(c("PolarisIGCoreBox"),{marginTop:5,children:w}),i.jsx(c("PolarisIGCoreBox"),{marginTop:8,children:x})]});return i.jsx(c("PolarisClipsPageInfoLayout.react"),{formattedMediaCount:g,itemArtistDisplayName:v,itemArtistUsername:b,itemImage:m,itemName:e,children:n})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsPageBlockedMessage.react",["PolarisExternalLink.react","PolarisIGCoreBox","PolarisIGCoreText","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.clipsPageRestrictedContext;return h.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",height:"90%",justifyContent:"center",children:[(a==null?void 0:a.text)!=null&&h.jsx(c("PolarisIGCoreText"),{textAlign:"center",children:a.text}),(a==null?void 0:a.link)!=null&&(a==null?void 0:a.link_text)!=null&&h.jsx(c("PolarisIGCoreBox"),{marginTop:6,children:h.jsx(c("PolarisExternalLink.react"),{href:a.link,children:h.jsx(c("PolarisIGCoreText"),{weight:"semibold",children:a.link_text})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsPageLayout.react",["cx","PolarisIGCoreBox","PolarisIGCoreText","PolarisReactRedux","PolarisUA","PolarisclipsSelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.children,e=a.metadata;a=a.pageTitle;var f=d("PolarisReactRedux").useSelector(function(a){return d("PolarisclipsSelectors").getIsNarrowScreen(a)});return i.jsx("div",{className:"_add1",children:i.jsxs(c("PolarisIGCoreBox"),{direction:"column",height:"100%",width:"100%",children:[!d("PolarisUA").isMobile()&&e!=null&&i.jsx(c("PolarisIGCoreBox"),{marginBottom:f?3:7,marginTop:f?4:0,paddingX:f?4:0,children:i.jsx(c("PolarisIGCoreText").Headline2,{children:a})}),b]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsAudioPage.react",["fbt","PolarisAsyncEntityQRModal","PolarisClipsActions","PolarisClipsAudioPageInfo.react","PolarisClipsGrid.react","PolarisClipsLogger","PolarisClipsPageBlockedMessage.react","PolarisClipsPageLayout.react","PolarisConditionalPageLayoutHandler.react","PolarisConfig","PolarisGenericMobileHeader.react","PolarisHttpErrorPage.react","PolarisPageMetadata.react","PolarisReactRedux","PolarisShell","PolarisclipsSelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useState,k="ClipsAudioPage",l=h._("\u0410\u0443\u0434\u0438\u043e");function a(a){var b,e,f=a.audioID;a=a.showQRModal;var g=d("PolarisReactRedux").useDispatch();a=j(a);var h=a[0],m=a[1];a=d("PolarisReactRedux").useSelector(function(a){return d("PolarisclipsSelectors").getClipsInfoFromAudioId(a,f)});var n=a.clips,o=a.formattedMediaCount,p=a.isMusicPageRestricted,q=a.metadata,r=a.musicPageRestrictedContext,s=a.pagingInfo,t=a.shouldDisableFetching;a=a.isBookmarked;var u=d("PolarisReactRedux").useSelector(function(a){return d("PolarisclipsSelectors").getIsAudioPlayerPlaying(a)}),v=function(a){g(d("PolarisClipsActions").fetchClipsForAudioPage(f,s==null?void 0:s.cursor))},w=(q==null?void 0:q.music_info)!=null?"music":"original_sound",x=(b=q==null?void 0:(b=q.music_info)==null?void 0:(b=b.music_asset_info)==null?void 0:b.audio_asset_id)!=null?b:q==null?void 0:(b=q.original_sound_info)==null?void 0:b.audio_asset_id;b=function(){g(d("PolarisClipsActions").bookmarkAudio(f,x,w))};var y=function(){g(d("PolarisClipsActions").unbookmarkAudio(f,x,w))},z=function(a){u&&g(d("PolarisClipsActions").updateAudioPageAudioPlayerIsPlaying(!1)),d("PolarisClipsLogger").logClipsAudioPageMediaOpen({mediaID:a,pageID:f,userID:d("PolarisConfig").getViewerId()})},A=(s==null?void 0:s.isFetching)===!1&&(q==null?void 0:q.music_info)==null&&(q==null?void 0:q.original_sound_info)==null;e=(q==null?void 0:(e=q.music_info)==null?void 0:(e=e.music_consumption_info)==null?void 0:e.should_mute_audio)===!0||(q==null?void 0:(e=q.original_sound_info)==null?void 0:e.should_mute_audio)===!0;A=A||e;e=p===!0?i.jsx(c("PolarisClipsPageBlockedMessage.react"),{clipsPageRestrictedContext:r}):i.jsxs("div",{children:[o!=null&&q!=null&&a!=null&&i.jsx(c("PolarisClipsAudioPageInfo.react"),{audioID:f,bookmarkAudio:b,formattedMediaCount:o,isBookmarked:a,metadata:q,unbookmarkAudio:y}),i.jsx(c("PolarisClipsGrid.react"),{analyticsContext:k,clips:n,fetchClips:v,hasNextPage:s==null?void 0:s.moreAvailable,isFetching:s==null?void 0:s.isFetching,onModalOpen:z,shouldDisableFetching:t})]});if(A)return i.jsx(c("PolarisHttpErrorPage.react"),{});p=i.jsxs(c("PolarisShell"),{mobileHeader:i.jsx(c("PolarisGenericMobileHeader.react"),{title:l}),pageIdentifier:k,children:[i.jsx(c("PolarisPageMetadata.react"),{id:k,title:l}),i.jsx(c("PolarisClipsPageLayout.react"),{children:e,metadata:q,pageTitle:l}),h&&i.jsx(c("PolarisAsyncEntityQRModal"),{entityID:f,onClose:function(){return m(!1)},source:"DIRECT_NAVIGATION"})]});return c("PolarisConditionalPageLayoutHandler.react")!=null?i.jsx(c("PolarisConditionalPageLayoutHandler.react"),{mainComponent:p}):p}a.displayName=a.name+" [from "+f.id+"]";g.PAGE_ID=k;g.PAGE_TITLE=l;g.ClipsAudioPage=a}),98);
__d("PolarisClipsAudioRoot.react",["PolarisClipsAudioPage.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.props;var b=a.routeParams.audio_id;a=a.routeProps.show_qr_modal;return h.jsx(d("PolarisClipsAudioPage.react").ClipsAudioPage,{audioID:b,showQRModal:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);