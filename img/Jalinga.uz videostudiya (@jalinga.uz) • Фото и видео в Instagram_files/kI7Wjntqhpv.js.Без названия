;/*FB_PKG_DELIM*/

__d("PolarisSettingsModuleHeader.react",["cx","PolarisIGCoreBox","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.endAdornment;a=a.headerText;return i.jsxs(c("PolarisIGCoreBox"),{alignItems:"end",direction:"row",marginBottom:6,children:[i.jsx(c("PolarisIGCoreBox"),{flex:"grow",children:i.jsx("h2",{className:"_acl0",children:a})}),b!=null&&b]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisSettingsActionGetErrorMessage",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";var i=function(a){return h._("{username} \u043d\u0435 \u0440\u0430\u0437\u0440\u0435\u0448\u0430\u0435\u0442 \u0434\u0440\u0443\u0433\u0438\u043c \u0040\u0443\u043f\u043e\u043c\u0438\u043d\u0430\u0442\u044c \u0441\u0435\u0431\u044f.",[h._param("username",a)])};function a(a,b){try{a=JSON.parse(a);if((a==null?void 0:a.cause)==="nonmentionable"){var c;c=(c=a.non_mentionable_users)==null?void 0:(c=c[0])==null?void 0:c.username;if(typeof c==="string")return i(c)}return a.message.errors[0]||b}catch(a){}return b}g.getErrorMessage=a}),98);
__d("PolarisAPISaveProfile",["PolarisInstapi"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("PolarisInstapi").apiPost("/api/v1/web/accounts/edit/",{body:{first_name:a.fullName,email:a.email,username:a.username,phone_number:a.phoneNumber,biography:a.bio,external_url:a.website,chaining_enabled:a.chainingEnabled?"on":"",gender:a.gender}}).then(function(a){return a.data})}g.saveProfile=a}),98);
__d("PolarisSettingsActionSetRequestInFlight",[],(function(a,b,c,d,e,f){"use strict";function a(a){return{type:"REQUEST_IN_FLIGHT",requestInFlight:a}}f.setRequestInFlight=a}),66);
__d("PolarisSettingsActionSaveProfile",["PolarisAPISaveProfile","PolarisConsumerDataCache","PolarisGenericStrings","PolarisLinkBuilder","PolarisProfessionalAccountLoggerUtils","PolarisProfileEditStrings","PolarisSentryFeedbackActions","PolarisSettingsActionGetErrorMessage","PolarisSettingsActionSetRequestInFlight","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var e=arguments;return function(f,g){var i;a=babelHelpers["extends"]({},a);var j=((i=a.profileEditParams)==null?void 0:(i=i.username)==null?void 0:i.should_show_confirmation_dialog)===!0||((i=a.profileEditParams)==null?void 0:(i=i.full_name)==null?void 0:i.should_show_confirmation_dialog)===!0,k=!j;f({type:"SAVE_PROFILE_REQUESTED",profileData:a});return d("PolarisAPISaveProfile").saveProfile(a).then(function(e){e=g().professionalAccountSettings.onboardingLogger;e&&(e.logSubmit(d("PolarisProfessionalAccountLoggerUtils").Step.personal_profile_info,d("PolarisProfessionalAccountLoggerUtils").Component.save_info,{bio:a.bio,name:a.fullName,website:a.website}),e.logFinishStep(d("PolarisProfessionalAccountLoggerUtils").Step.personal_profile_info));f({type:"SAVE_PROFILE_CONFIRMED",profileData:a,toast:k?{text:d("PolarisProfileEditStrings").PROFILE_SAVED_WITHOUT_EXCLAMATION}:null});e=d("PolarisLinkBuilder").buildUserLink(c("nullthrows")(a.username));d("PolarisConsumerDataCache").invalidatePath(e);f({proOnboardingProfileInfoSaved:!0,type:"PRO_ONBOARDING_PROFILE_INFO_SAVED"});b!=null&&b()},function(b){f(d("PolarisSettingsActionSetRequestInFlight").setRequestInFlight(!1));var c=g().professionalAccountSettings.onboardingLogger;if(c){c.logSubmitError(d("PolarisProfessionalAccountLoggerUtils").Step.personal_profile_info,d("PolarisProfessionalAccountLoggerUtils").Component.save_info,(c=b.responseObject)==null?void 0:c.error_identifier,b.responseText,{bio:a.bio,name:a.fullName,website:a.website})}c=((c=b.responseObject)==null?void 0:c.spam)||!1;if(c){var i,j,l,m;i=(i=b.responseObject)==null?void 0:i.feedback_title;j=(j=b.responseObject)==null?void 0:j.feedback_message;l=(l=b.responseObject)==null?void 0:l.feedback_url;m=(m=b.responseObject)==null?void 0:m.feedback_action;f(d("PolarisSentryFeedbackActions").showSentryFeedback({title:i,message:j,url:l,action:m}))}k=k||b.statusCode===400;f({type:"SAVE_PROFILE_FAILED",errorMessage:d("PolarisSettingsActionGetErrorMessage").getErrorMessage(b.responseText,d("PolarisProfileEditStrings").PROFILE_SAVE_INTERNAL_ERROR),toast:c||!k?null:{text:d("PolarisSettingsActionGetErrorMessage").getErrorMessage(b.responseText,d("PolarisProfileEditStrings").PROFILE_SAVE_INTERNAL_ERROR_WITH_RETRY),actionText:d("PolarisGenericStrings").RETRY_TEXT,actionHandler:function(){return f(h.apply(void 0,e))}}})}).then(function(){f(d("PolarisSettingsActionSetRequestInFlight").setRequestInFlight(!1)),j&&!k&&window.location.reload()})}}g.saveProfile=h}),98);